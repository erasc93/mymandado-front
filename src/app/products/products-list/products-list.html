<mnd-form-products
[(isvisible)]="formAddVisible"
[item]="formProduct()"
(OnSubmit)="AddProductSubmit($event)"/>

<mnd-form-products
[(isvisible)]="formUpdateVisible"
[item]="formProduct()"
(OnSubmit)="UpdateProductSubmit($event)"/>

@if(!formUpdateVisible() && !formAddVisible())
{
   <div class=table-container>
      <table>
         <colgroup>
            <col style="width: 4%;">
            <col style="width: 5%;">
            <col style="width: 15%;">
            <col style="width: 15%;">
         </colgroup>
         <thead>
            <tr>
               <th><p-button 
                  icon="pi pi-refresh" 
                  (click)="Refresh()" 
                  label="Refresh" 
                  severity="info" />
               </th>
               <th></th>
               <th></th>
               <th style="display:flex;flex-direction:row-reverse" >
                  <p-button 
                  icon="pi pi-plus" 
                  (click)="formAddVisible.set(true)" 
                  label="Ajouter" 
                  severity="primary" />
               </th>
            </tr>
         </thead>
         <tbody>
            @for(product of products() ; track product)
            {
               <tr>
                  
                  
                  <td style="text-align:start;">
                     <p-checkbox  
                     [binary]="false" 
                     [disabled]="false" />
                  </td>
                  <td style="text-align:end;"> {{product.unit}} </td>
                  <td style="text-align:start;"> {{product.name}} </td>
                  <td style="text-align:end;"> <p-button 
                     icon="pi pi-pencil"
                     severity="info"
                     class="p-button-text"
                     (onClick)="ShowFormUpdate(product)"/>
                  </td>
                  <!-- (onClick)="addFormVisible.set(true)" /> -->
                  <!-- (onClick)="_productsClient.Update(product);addFormVisible=false;" /> -->
                  <!-- <td> -->
                     <!-- <p-button 
                     icon="pi pi-trash"
                     severity="danger"
                     class="p-button-text"
                     (onClick)="DeleteProductSubmit(product)"/> -->
                  <!-- </td> -->
               </tr>
            }
         </tbody>
         @if(products().length>13)
         {
            <tr >
               <td></td>
               <td></td>
               <td style="display:flex;flex-direction:row-reverse"><p-button 
                  icon="pi pi-plus" 
                  (click)="formAddVisible.set(true)" 
                  label="Ajouter" 
                  severity="primary" />
               </td>
            </tr>
         }
      </table>
   </div>
}