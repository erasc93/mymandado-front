<!-- <div style=" display:flex; flex-direction:row-reverse; justify-content:space-between; margin-right:10rem"> -->
   <!-- <p-button icon="pi pi-eye" (click)="GoToView_Todos()" severity="contrast" /> -->
   <!-- <p-button icon="pi pi-eye" (click)="GoToView_Done()" severity="contrast" /> -->
   <!-- <p-button icon="pi pi-eye-slash" (click)="GoToView_Todos()" severity="contrast" /> -->
   <!-- <span style="display:flex; flex-direction:row; justify-content:flex-start; align-items:center;"> <p-button (click)="logout()" severity="secondary">logout : {{user()}}</p-button> <h4></h4></span> -->
   
   <!-- <p-button 
   icon="pi pi-plus" 
   (click)="formAddVisible.set(true)" 
   label="Ajouter" 
   severity="primary" /> -->
<!-- </div> -->


<mnd-form-products
[(isvisible)]="formAddVisible"
[item]="formProduct()"
(OnSubmit)="AddProductSubmit($event)"/>

<mnd-form-products
[(isvisible)]="formUpdateVisible"
[item]="formProduct()"
(OnSubmit)="UpdateProductSubmit($event)"/>

@if(!formUpdateVisible() && !formAddVisible())
{
   <div class=table-container>
      <table>
         <colgroup>
            <col id="" style="width: 20%;">
            <col style="width: 5%;">
            <col style="width: 15%;">
            <col style="width: 15%;">
         </colgroup>
         <thead>
            <tr>
               <th></th>
               <th></th>
               <th style="display:flex;flex-direction:row-reverse" ><p-button 
                  icon="pi pi-plus" 
                  (click)="formAddVisible.set(true)" 
                  label="Ajouter" 
                  severity="primary" />
               </th>
            </tr>
         </thead>
         <tbody>
            @for(product of products() ; track product)
            {
               <tr>
                  <td style="text-align:end;"> {{product.unit}} </td>
                  <td style="text-align:start;"> {{product.name}} </td>
                  <td style="text-align:end;"> <p-button 
                     icon="pi pi-pencil"
                     severity="info"
                     class="p-button-text"
                     (onClick)="ShowUpdateForm(product)"/>
                  </td>
                  <!-- (onClick)="addFormVisible.set(true)" /> -->
                  <!-- (onClick)="_productsClient.Update(product);addFormVisible=false;" /> -->
                  <td>
                     <p-button 
                     icon="pi pi-trash"
                     severity="danger"
                     class="p-button-text"
                     (onClick)="DeleteProduct(product)"/>
                  </td>
               </tr>
            }
         </tbody>
         @if(products().length>13)
         {
            <tr >
               <td></td>
               <td></td>
               <td style="display:flex;flex-direction:row-reverse"><p-button 
                  icon="pi pi-plus" 
                  (click)="formAddVisible.set(true)" 
                  label="Ajouter" 
                  severity="primary" />
               </td>
            </tr>
         }
      </table>
   </div>
}